/* ======================================================
   MINI SISTEMA AGR√çCOLA ‚Äî ESTILOS OPTIMIZADOS
====================================================== */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: Arial, sans-serif;
}

body {
    background: linear-gradient(135deg, #d9d8e0 0%, #a8c1b8 100%);
    overflow: hidden;
}

/* ======================================================
   CONTENEDOR PRINCIPAL ‚Äî TODA LA P√ÅGINA
====================================================== */
.contenedor-principal {
    margin: 20px;
    padding: 20px;
    border-radius: 24px;
    background: #f6f6f6;
    box-shadow: 0 8px 30px rgba(0,0,0,0.12);
    height: calc(100vh - 40px);
    overflow: hidden;
}

/* ========== APP ========== */
.app {
    display: flex;
    height: 100%;
    border-radius: 16px;
    overflow: hidden;
}

/* ======================================================
   SIDEBAR ‚Äî MINIMALISTA PROFESIONAL
====================================================== */
.sidebar {
    width: 230px;
    padding: 26px 20px;

    background: rgba(255, 255, 255, 0.40);
    backdrop-filter: blur(22px);

    border-right: 1px solid rgba(255, 255, 255, 0.30);
    border-radius: 0 22px 22px 0;

    display: flex;
    flex-direction: column;
    gap: 18px;

    overflow-y: auto;
    box-shadow: 6px 0 18px rgba(0,0,0,0.08);
}

.sidebar::-webkit-scrollbar { width: 6px; }
.sidebar::-webkit-scrollbar-thumb {
    background: rgba(0,0,0,0.13);
    border-radius: 4px;
}

/* LOGO / MARCA */
.brand {
    font-size: 16px;
    font-weight: 700;
    letter-spacing: 0.5px;
    color: #ba027d;
    opacity: .95;
    padding-left: 4px;
}

/* MEN√ö */
.menu {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

/* ITEMS DEL MEN√ö */
.menu-item {
    display: flex;
    align-items: center;
    gap: 10px;

    padding: 10px 12px;
    font-size: 12px;
    font-weight: 600;
    color: #3a3a3a;

    cursor: pointer;
    border-radius: 10px;

    position: relative;
    transition: 0.22s ease;
}

.menu-item::before {
    font-size: 14px;
    width: 16px;
    opacity: 0.75;
}

.menu-item[data-modulo="produccion"]::before { content: "üìä"; }
.menu-item[data-modulo="gastos"]::before { content: "üíº"; }
.menu-item[data-modulo="rrhh"]::before { content: "üë•"; }
.menu-item[data-modulo="cxc"]::before { content: "üìÑ"; }

.menu-item.active::after {
    content: "";
    position: absolute;
    left: -10px;
    width: 3px;
    height: 70%;
    background: #ca0588;
    border-radius: 20px;
    box-shadow: 0 0 8px rgba(82, 0, 55, 0.2);
}

.menu-item:hover {
    background: rgba(0,0,0,0.05);
    transform: translateX(2px);
}

.menu-item.active {
    background: rgba(186, 2, 125, 0.12);
    color: #ba027d;
    box-shadow: 0 3px 10px rgba(186, 2, 125, 0.18);
}

/* ======================================================
   MAIN
====================================================== */
.main {
    flex: 1;

    padding: 20px 50px 30px;

    display: grid;
    gap: 20px;
    grid-template-rows: auto auto auto 1fr 1fr;

    background: transparent !important;
}

/* SELECTORES */
.selectores {
    display: flex;
    gap: 14px;
    align-items: center;
}

.selectores label {
    font-weight: bold;
    color: #56585b;
}

.selectores select {
    padding: 10px 36px 10px 14px;
    font-size: 13px;
    font-weight: 600;
    border-radius: 12px;
    border: 1px solid #d1d5db;
    background: rgb(246, 246, 246);
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' fill='gray' viewBox='0 0 16 16'%3E%3Cpath d='M1.5 5.5l6 6 6-6'/%3E%3C/svg%3E");
    background-position: right 12px center;
    background-repeat: no-repeat;
    background-size: 14px;
    transition: .2s;
}

.selectores select:hover { border-color: #3b82f6; }
.selectores select:focus {
    border-color: #2563eb;
    outline: none;
    box-shadow: 0 0 0 3px rgba(37,99,235,0.2);
}

/* ======================================================
   KPIS
====================================================== */
.kpis {
    display: flex;
    gap: 14px;
    overflow-x: auto;
    padding-bottom: 2px;
    background: transparent !important;
    box-shadow: none !important;
}

.kpi {
    flex: 1;
    min-width: 100px;
    text-align: center;
    border: 1px solid #ebeced;
    padding: 16px;
    border-radius: 16px;

    background-color: white;
    background-image: url("data:image/svg+xml,%3Csvg width='200' height='100' viewBox='0 0 200 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 5 Q50 0 100 5 T200 5 M0 10 Q50 5 100 10 T200 10 M0 15 Q50 10 100 15 T200 15 M0 20 Q50 15 100 20 T200 20 M0 25 Q50 20 100 25 T200 25 M0 30 Q50 25 100 30 T200 30 M0 35 Q50 30 100 35 T200 35 M0 40 Q50 35 100 40 T200 40 M0 45 Q50 40 100 45 T200 45 M0 50 Q50 45 100 50 T200 50 M0 55 Q50 50 100 55 T200 55 M0 60 Q50 55 100 60 T200 60 M0 65 Q50 60 100 65 T200 65 M0 70 Q50 65 100 70 T200 70 M0 75 Q50 70 100 75 T200 75 M0 80 Q50 75 100 80 T200 80 M0 85 Q50 80 100 85 T200 85 M0 90 Q50 85 100 90 T200 90 M0 95 Q50 90 100 95 T200 95' stroke='%23878a8f' stroke-width='1' fill='none' opacity='0.15'/%3E%3C/svg%3E");
    background-repeat: repeat-x;
    background-size: auto 100%;
    background-position: center;

    box-shadow: 0 4px 14px rgba(0,0,0,0.10);
}

.kpi h4 {
    font-size: 13px;
    font-weight: 600;
    color: #6a6768;
    margin-bottom: 6px;
}

.kpi span {
    font-size: 18px;
    font-weight: bold;
    color: #092204;
}

/* ======================================================
   ZONA SUPERIOR
====================================================== */
.zona-superior {
    display: grid;
    gap: 18px;
    grid-template-columns: 2fr 1fr;
    min-height: 0;
}

.tabla-contenedor {
    padding: 14px 18px;
    background: white;
    border-radius: 16px;
    box-shadow: 0 4px 14px rgba(0, 0, 0, 0.154);
    display: flex;
    flex-direction: column;
    min-height: 0;
}

.tabla-scroll {
    flex: 1;
    overflow-y: auto;
    border-radius: 12px;
    scrollbar-width: none;
}
.tabla-scroll::-webkit-scrollbar { display: none; }

table {
    width: 100%;
    border-collapse: collapse;
    font-size: 13px;
    color: #01307a;
}

th, td {
    padding: 6px;
    text-align: center;
}

thead {
    position: sticky;
    top: 0;
    background: rgb(239, 241, 250);
    z-index: 5;
    border-bottom: 2px solid #e5e7eb;
    color: #1b2c3d;
}

tbody tr:nth-child(even) { background: #f3f3f3; }
tbody tr:hover { background: #e5edff; }

/* ======================================================
   ZONA INFERIOR
====================================================== */
.zona-inferior {
    border-radius: 16px;
    min-height: 0;
}

/* GR√ÅFICO */
.grafico-box {
    height: 100%;
    padding: 12px;
    display: flex;
    flex-direction: column;
    background: white;
    border-radius: 16px;
    box-shadow: 0 4px 14px rgba(0,0,0,0.12);
}

.grafico-wrapper {
    flex: 1;
    overflow: hidden;
    border-radius: 12px;
    
}

/* ======================================================
   TABS
====================================================== */
.tabs {
    display: flex;
    gap: 10px;
    margin-bottom: 6px;
}

.tab {
    padding: 6px 10px;
    border: none;
    cursor: pointer;
    border-radius: 8px;
    background: #e5e7eb;
}

.tab.active {
    background: #ba027d;
    color: white;
}

.titulo-tabla {
    margin-bottom: 6px;
    font-size: 12px;
    font-weight: 600;
    color: #6b7280;
    background: white;
    position: sticky;
    top: 0;
    z-index: 10;
}

canvas {
    display: block;
    max-width: 100% !important;
    max-height: 100% !important;
}

/* ============================================================
   LOADING SCREEN PREMIUM ‚Äî TARJETA + SPINNER ELEGANTE
============================================================ */

.loader-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;

    backdrop-filter: blur(1px);
    background: rgba(255, 255, 255, 0.35);

    opacity: 0;
    pointer-events: none;
    transition: opacity 0.25s ease;
    z-index: 9999;
}

/* Tarjeta central estilo iOS */
.loader-box {
    padding: 28px 34px;
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(18px);
    border-radius: 20px;
    box-shadow: 0 8px 30px rgba(0,0,0,0.18);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 14px;
}

/* Spinner elegante */
.loader-spinner {
    width: 38px;
    height: 38px;
    border: 4px solid rgba(0, 0, 0, 0.15);
    border-top-color: #ba027d;
    border-radius: 50%;
    animation: spin 0.75s linear infinite;
}

@keyframes spin {
    from { transform: rotate(0); }
    to { transform: rotate(360deg); }
}

.loader-text {
    font-size: 13px;
    font-weight: 600;
    color: #333;
    opacity: .8;
}

.loader-overlay.show {
    opacity: 1;
    pointer-events: all;
}
